{% extends 'main/layout.html' %}

{% block script %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <script>
        $(document).ready(function(){
            $('.datepicker').datepicker({
                format: 'yyyy-mm-dd',
                autoclose: true
            });
        });
    </script>
{% endblock script %}

{% block content %}
    <div class="container mt-5">
        <h1>Edit Ad Request</h1>
        <form method="POST" action="{{ url_for('sponsor.edit_ad_request', ad_request_id=ad_request.id) }}">
            {{ form.hidden_tag() }}
            
            <div class="mb-3">
                {{ form.campaign_id.label(class="form-label") }}
                {{ form.campaign_id(class="form-control", placeholder="Enter campaign ID") }}
                {% if form.campaign_id.errors %}
                    <div class="alert alert-danger mt-2">
                        {% for error in form.campaign_id.errors %}
                            <span>{{ error }}</span><br>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
            
            <div class="mb-3">
                {{ form.influencer_id.label(class="form-label") }}
                {{ form.influencer_id(class="form-control", placeholder="Enter influencer ID") }}
                {% if form.influencer_id.errors %}
                    <div class="alert alert-danger mt-2">
                        {% for error in form.influencer_id.errors %}
                            <span>{{ error }}</span><br>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
            
            <div class="mb-3">
                {{ form.messages.label(class="form-label") }}
                {{ form.messages(class="form-control", placeholder="Enter messages") }}
                {% if form.messages.errors %}
                    <div class="alert alert-danger mt-2">
                        {% for error in form.messages.errors %}
                            <span>{{ error }}</span><br>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
            
            <div class="mb-3">
                {{ form.requirements.label(class="form-label") }}
                {{ form.requirements(class="form-control", placeholder="Enter requirements") }}
                {% if form.requirements.errors %}
                    <div class="alert alert-danger mt-2">
                        {% for error in form.requirements.errors %}
                            <span>{{ error }}</span><br>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
            
            <div class="mb-3">
                {{ form.status.label(class="form-label") }}
                {{ form.status(class="form-select") }}
                {% if form.status.errors %}
                    <div class="alert alert-danger mt-2">
                        {% for error in form.status.errors %}
                            <span>{{ error }}</span><br>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
            
            <div class="mb-3">
                {{ form.offer_amount.label(class="form-label") }}
                {{ form.offer_amount(class="form-control", placeholder="Enter offer amount") }}
                {% if form.offer_amount.errors %}
                    <div class="alert alert-danger mt-2">
                        {% for error in form.offer_amount.errors %}
                            <span>{{ error }}</span><br>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
            
            <button type="submit" class="btn btn-primary">Save Changes</button>
            <a href="{{ url_for('sponsor.manage_ad_requests', campaign_id=ad_request.campaign_id) }}" class="btn btn-secondary">Cancel</a>
        </form>
    </div>
{% endblock content %}