<body>
    <h1>Admin Dashboard</h1>
    <div class="dashboard-container">
        <div class="statistics">
            <h2>Statistics</h2>
            <div class="charts">
                <div class="row">
                    <div class="column">
                        <canvas id="userChart" width="200" height="200"></canvas>
                    </div>
                    <div class="column">
                        <canvas id="campaignChart" width="200" height="200"></canvas>
                    </div>
                </div>
                <div class="row">
                    <div class="column">
                        <canvas id="adRequestChart" width="200" height="200"></canvas>
                    </div>
                    <div class="column">
                        <canvas id="flaggedChart" width="200" height="200"></canvas>
                    </div>
                </div>
            </div>
        </div>
        <div class="actions">
            <h2>Actions</h2>
            <div class="flag-users">
                <h3>Flag Users</h3>
                <form action="{{ url_for('admin.flag_user', user_id=userId) }}" method="post">
                    <label for="userId">User ID:</label>
                    <input type="text" id="userId" name="userId" required>
                    <button type="submit">Flag User</button>
                </form>
                <div class="form-group">
                    <label for="flagged">Flagged:</label>
                    <input type="checkbox" id="flagged" name="flagged" {% if user.flagged %}checked{% endif %}>
                </div>
                <form action="{{ url_for('admin.unflag_user', user_id=userId) }}" method="post">
                    <label for="userId">User ID:</label>
                    <input type="text" id="userId" name="userId" required>
                    <button type="submit">Unflag User</button>
                </form>
            </div>
            <div class="flag-campaigns">
                <h3>Flag Campaigns</h3>
                <form action="{{ url_for('admin.flag_campaign', campaign_id=campaignId) }}" method="post">
                    <label for="campaignId">Campaign ID:</label>
                    <input type="text" id="campaignId" name="campaignId" required>
                    <button type="submit">Flag Campaign</button>
                </form>
                <form action="{{ url_for('admin.unflag_campaign', campaign_id=campaignId) }}" method="post">
                    <label for="campaignId">Campaign ID:</label>
                    <input type="text" id="campaignId" name="campaignId" required>
                    <button type="submit">Unflag Campaign</button>
                </form>
            </div>
        </div>
    </div>

    <script>
        var userCtx = document.getElementById('userChart').getContext('2d');
        var userChart = new Chart(userCtx, {
            type: 'bar',
            data: {
                labels: ['Active Users'],
                datasets: [{
                    label: '# of Active Users',
                    data: [10], // Replace with actual value or JavaScript variable
                    backgroundColor: 'rgba(75, 192, 192, 0.2)',
                    borderColor: 'rgba(75, 192, 192, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        var campaignCtx = document.getElementById('campaignChart').getContext('2d');
        var campaignChart = new Chart(campaignCtx, {
            type: 'pie',
            data: {
                labels: ['Total Campaigns', 'Public Campaigns', 'Private Campaigns'],
                datasets: [{
                    label: '# of Campaigns',
                    data: [20, 15, 5], // Replace with actual values or JavaScript variables
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)'
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        var adRequestCtx = document.getElementById('adRequestChart').getContext('2d');
        var adRequestChart = new Chart(adRequestCtx, {
            type: 'bar',
            data: {
                labels: ['Ad Requests'],
                datasets: [{
                    label: '# of Ad Requests',
                    data: [50], // Replace with actual value or JavaScript variable
                    backgroundColor: 'rgba(153, 102, 255, 0.2)',
                    borderColor: 'rgba(153, 102, 255, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        var flaggedCtx = document.getElementById('flaggedChart').getContext('2d');
        var flaggedChart = new Chart(flaggedCtx, {
            type: 'bar',
            data: {
                labels: ['Flagged Sponsors', 'Flagged Influencers'],
                datasets: [{
                    label: '# of Flagged Users',
                    data: [8, 12], // Replace with actual values or JavaScript variables
                    backgroundColor: [
                        'rgba(255, 159, 64, 0.2)',
                        'rgba(255, 99, 132, 0.2)'
                    ],
                    borderColor: [
                        'rgba(255, 159, 64, 1)',
                        'rgba(255, 99, 132, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>
</body>
{% endblock content %}